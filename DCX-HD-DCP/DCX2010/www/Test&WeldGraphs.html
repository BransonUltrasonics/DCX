<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="cache-control" content="no-cache, must-revalidate, post-check=0, pre-check=0" />
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />
	<meta http-equiv="content-type" content="text/html;charset=utf-8" /> 
    <title>BRANSON DCX GUI</title>
    <link href="styleDCXHD-v1.css" rel="stylesheet" type="text/css" />
    <script type="text/JavaScript" language="javascript" src="jqueryDCXHD-v1.js"></script>
    <!--[if IE]><script type="text/javascript" src="excanvas.js"></script><![endif]-->
    <!--[if IE 6]><link href="ie6.css" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if IE 7]><link href="ie7.css" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if IE 6]>
<script src="DD_belatedPNGDCXHD-v1.js"></script>
<script>
  /* EXAMPLE */
  DD_belatedPNG.fix('#headerLogo');
  /* string argument can be any CSS selector */
  /* .png_bg example is unnecessary */
  /* change it to what suits you! */
</script>
<![endif]-->
    <style>
.divClass{
    height:12px;
    width:6px; 
    background-color:gray;
    margin-bottom:4px;
    border: 0px;
}
.divClassSegOn{
    height:12px;
    width:6px; 
    background-color:blue;
    margin-bottom:4px;
    border: 0px;
}
.labelBar {
	width: 100px;
	padding: 2px 2px 2px 2px;
	background: #ffffff;
	border: solid 1px #CCCCCC;
	margin: 11px 10px 0px 10px;
	float: left;
	text-align: right;
}
</style>
</head>
<script language="javascript" type="text/javascript">
var restoreFlag = false;
var pageRefresh = false;
var parenttype = "PS",PSFreqType = 20;
var DataSize = 5000; 
var DefaultDataSize = 5000,PhaseLimit = 180,PhaseCutOff = 225,TempPhase;
var DataLength = 1000;
var Time = new Array(), Phase= new Array(), Current = new Array(), Amplitude = new Array(), Power = new Array(), PWMAmplitude = new Array(), Frequency = new Array();
var sOption = "toolbar=0, location=0, directories=0, menubar=0,";
	sOption += " scrollbars=0, width=400, height=120, left=300, top=250";
var w, WeldPresetData = "", StartFreq, EndFreq;
var UserComment;
var userbranson = "1", usermf1 = "3", usermf2 = "4";
var tab1 = "<li><a href=\"javascript:GetLanguageAndUserID('ip-setup.html')\">IP Setup</a></li>";
var tab2 = "<li><a  href=\"javascript:GetLanguageAndUserID('weld-preset.html')\">Weld Preset</a></li>";
var tab3 = "<li><a  href=\"javascript:GetLanguageAndUserID('advanced-preset.html')\">Advanced Preset</a></li>";
var tab4 = "<li><a  href=\"javascript:GetLanguageAndUserID('diagnostic-IO.html')\">I/O Diagnostics</a></li>";
var tab5 = "<li class=\"active\"><a href=\"#\">Test & </br>Weld Graphs</a></li>";
var tab6 = "<li><a  href=\"javascript:GetLanguageAndUserID('system-information.html')\">System Information</a></li>";
var tab7 = "<li><a  href=\"javascript:GetLanguageAndUserID('IO-configuration.html')\">I/O Configuration</a></li>";
var tab8 = "<li><a  href=\"javascript:GetLanguageAndUserID('event-log.html')\">Event Log</a></li>";
var tab9 = "<li><a  href=\"javascript:GetLanguageAndUserID('alarm-log.html')\">Alarm Log</a></li>";
var tab10 = "<li><a  href=\"javascript:GetLanguageAndUserID('manufacturing.html')\">Manufacturing</a></li>";
var tab11 = "<li><a  href=\"javascript:GetLanguageAndUserID('mfboardtest.html')\">Manufacturing Board Test</a></li>";
var tab12 = "<li><a  href=\"javascript:GetLanguageAndUserID('hornsignature.html')\">Horn <br/> Signature</a></li>";
var tab13 = "<li><a  href=\"javascript:GetLanguageAndUserID('HD-param.html')\">HD Parameters</a></li>";

var CSVstring = " ";
var tabBranson = tab1 + tab2 + tab3 + tab4 + tab5 + tab12 + tab6 + tab7 + tab8 + tab9 + tab13;
var tabMf = tabBranson + tab10;
var tabBoardtest = tab1 + tab2 + tab3 + tab11 + tab4 + tab5 + tab12 + tab6 + tab7 + tab8 + tab9;
var TabArr =["", tabBranson, "", tabMf, tabBoardtest];
var UserArr=["", "Current User: Branson", "","Current User: Manufacturing","Current User: Manufacturing"];
var txtStartTest = "     Start Test    ";
var txtStopTest = "     Stop Test     ";
function getHTTPObject() {
  var xmlhttp; 
  if (!xmlhttp && typeof XMLHttpRequest != 'undefined') {
    try {
      xmlhttp = new XMLHttpRequest();
    } catch (e) {
      xmlhttp = false;
    }
  }
  return xmlhttp;
}

var http = getHTTPObject(); // create the HTTP Object
var datastate = 1;
var TestStartTimeout = 6;//3 seconds
var TestPollTimeOut = 2;//1 to 1.5 seconds
var TestStopTimeout = 6;//3 seconds
var TestResultTimeOut = 6;//3 secs
var timerid = 0;
var state = 0;
var missedCount = 0;
var missedCountMax = 20;
var TEST_START = 1, WAIT_TEST_START = 2, TEST_POLL =3, WAIT_TEST_POLL = 4, TEST_POLL_TIMEOUT = 5, WAIT_TEST_STOP = 6, 
TEST_RESULT = 7, WAIT_TEST_RESULT = 8;
 var stateError = 0, stateWait = 1,	stateSeek = 2, stateRun = 3;
var timeout;     
var msCount;
function TimerCallBack()
{   
   switch(state)
   {
    case TEST_START:
        missedCount = 0;
        msCount = TestStartTimeout;
        state = WAIT_TEST_START;
        break;
    case WAIT_TEST_START:
        if(--msCount <= 0)
        {
            state = 0;           
            TimeOutAlert("Test Start Command Not responded",1);
        }
        break;
     case TEST_POLL:
         SendTestPollCommand("func=13cmd=10?param=");
         mscount = TestPollTimeOut;
         state = WAIT_TEST_POLL;
         break;
     case WAIT_TEST_POLL:
         if(--msCount <= 0)
         {
            missedCount++;
            if(missedCount >= missedCountMax)
            {
                TimeOutAlert("Test Poll Command Not responded");
                /*EnableDiv();*/
                missedCount = 0;
                state = 0;
            }
            else
                state = TEST_POLL;             
         }
         break;
     case TEST_POLL_TIMEOUT:
         if(--msCount <= 0)
         {  
            state = TEST_POLL;
         }
         break;
     case WAIT_TEST_STOP:
         if(--msCount <= 0)
         {
            state = 0;           
            TimeOutAlert("Test Stop Command Not responded");
         }
         break;    
     case TEST_RESULT:
         SendTestPollCommand("func=13cmd=12?param=")
         msCount = TestResultTimeOut;
         state = WAIT_TEST_RESULT;
         break;
     case WAIT_TEST_RESULT:
         if(--msCount <= 0)
         {
            state = 0;
            missedCount = 0;            
            TimeOutAlert("Test Result Command Not responded");
         }
         break;    
   }
}

function ResetControlsAfterTest(argErr)
{
    if(timerid)
    {
        clearInterval(timerid);
        timerid = 0;
    }
    var tstButton =  document.getElementById('TestButton');
    tstButton.disabled = false;
    tstButton.value = txtStartTest;
    state = 0;
    if(argErr == "ERROR")
    {  
        UpdateFrequecy("0");
        UpdateMemoryFreq("0");
    }
    UpdateAmplitude("0");
    UpdatePower("0");
}

function TimeOutAlert(msg,errtype)
{
   if(timerid)
   {
       clearInterval(timerid)
       timerid = 0;
   }
   var tstButton =  document.getElementById('TestButton');
   alert(msg);
   tstButton.disabled = false;
   if(!errtype)
   {
		tstButton.value = txtStartTest;
		UpdateFrequecy("0");
		UpdateMemoryFreq("0");
		UpdateAmplitude("0");
		UpdatePower("0");
		document.getElementById("Frequency:tt").innerHTML = "";
		document.getElementById("Memory:tt").innerHTML = "";
		document.getElementById("Amplitude:tt").innerHTML = "";
		document.getElementById("Power:tt").innerHTML = "";
		OffAllLeds();
	}
}

function OffAllLeds()
{
    document.getElementById('imgRUN').src = "greyDot.gif";		
    document.getElementById('imgSEEK').src = "greyDot.gif";
    document.getElementById('imgTESTOK').src = "greyDot.gif";
    document.getElementById('imgTESTFAILED').src = "greyDot.gif";
}

function SetLedStatus(ID, status)
{   
    if(status == "ON")
        document.getElementById(ID).src = (ID == "imgTESTFAILED")? "redDot.gif" : "greenDot.gif";
    else if(status == "OFF")
        document.getElementById(ID).src = "greyDot.gif";
}

function UpdateMemoryFreq(segMent)
{
    for(indx = 1; indx <=20 ; indx++)
    {
        var divObj = document.getElementById("Mem_seg" + indx);
        if(parseInt(segMent) == indx)    
           divObj.className = 'divClassSegOn';
        else
          divObj.className = 'divClass';
    }
}

function UpdateFrequecy(freqSeg)
{
    for(indx = 1; indx <= 20 ; indx++)
    {
        var divObj = document.getElementById("Freq_Seg" + indx);
        if(parseInt(freqSeg) >= indx)    
           divObj.className = 'divClassSegOn';
        else
          divObj.className = 'divClass';
    }
}

function UpdateAmplitude(freqSeg)
{
    for(indx = 1; indx <= 20 ; indx++)
    {
        var divObj = document.getElementById("Amp_Seg" + indx);
        if(parseInt(freqSeg) >= indx)    
           divObj.className = 'divClassSegOn';
        else
          divObj.className = 'divClass';
    }
}

function UpdatePower(freqSeg)
{
    for(indx = 1; indx <= 20 ; indx++)
    {
        var divObj = document.getElementById("Power_Seg" + indx);
        if(parseInt(freqSeg) >= indx)    
           divObj.className = 'divClassSegOn';
        else
          divObj.className = 'divClass';
    }
}

function handleResetResponse()
{
    if (http.readyState == 4) 
	{
		DisableDiv();
	    if(http.responseText == "OK")
	    {
	        SetLedStatus("imgTESTFAILED", "OFF");
	    }
	    else
	        alert("Reset command not responded");
	}
}
function handleRunTestResponse()
{ 
	if (http.readyState == 4) 
	{
	    var str = http.responseText.split("@");	 
	    var res = str[1].split(":"); 	    
 		if(res[0] == "TESTSTARTED")
		{	
		    var tstButton =  document.getElementById('TestButton');
		    tstButton.value = txtStopTest;
			document.getElementById("Frequency:tt").innerHTML = "";
			document.getElementById("Memory:tt").innerHTML = "";
			document.getElementById("Amplitude:tt").innerHTML = "";
			document.getElementById("Power:tt").innerHTML = "";
		    OffAllLeds();
            UpdateFrequecy("0");
            UpdateMemoryFreq("0");      
            UpdateAmplitude("0");      
            UpdatePower("0");
		    tstButton.disabled = false;
			msCount = TestPollTimeOut;
			missedCount = 0;
			state = TEST_POLL;			
			UpdateTestProgress(res[1] , false);
		}
		else if(res[0] == "SYSTEMBUSY")
		{	
		    if(timerid)	    
		    {
		        clearInterval(timerid);
		        timerid = 0;
		    }
		    state = 0;
		    missedCount = 0;
		    TimeOutAlert("System is either busy or in error state",1);
		}
	}
}
function handleTestPollResponse()
{
    if (http.readyState == 4) 
	{
	    var str = http.responseText.split("@");
	    var res = str[1].split(":");
 		if(res[0] == "TESTPOLLRESPONSE")
		{
			var finalres = str[2].split(",");
			document.getElementById("Frequency:tt").innerHTML = finalres[0];
			document.getElementById("Memory:tt").innerHTML = finalres[1];
			document.getElementById("Amplitude:tt").innerHTML = finalres[2];
			document.getElementById("Power:tt").innerHTML = finalres[3];
		    missedCount = 0;
		    msCount = TestPollTimeOut;
		    state = TEST_POLL_TIMEOUT;
		    UpdateTestProgress(res[1], false);
		}
		else if(res[0] == "TESTSTOPPED")
		{   
			var finalres = str[2].split(",");
			document.getElementById("Frequency:tt").innerHTML = finalres[0];
			document.getElementById("Memory:tt").innerHTML = finalres[1];
			document.getElementById("Amplitude:tt").innerHTML = finalres[2];
			document.getElementById("Power:tt").innerHTML = finalres[3];
		    missedCount = 0;
		    state = TEST_RESULT;
		    UpdateTestProgress(res[1] , false);
		}
		else if(res[0] == "TESTRESULT")
		{
		    missedCount = 0;
		    state = 0;		   
		    UpdateTestProgress(res[1] , true);		    
		}
    }	
}

function UpdateTestProgress(testRes , stopResult)
{
    /*TODO update LEds frequency memory during and after TEST
     stateError = 0, stateWait = 1,	stateSeek = 2, stateRun = 4;*/
    var res = testRes.split(",");
    switch(parseInt(res[0]))
    {
     case stateError:      
        state = 0;       
        OffAllLeds();
        SetLedStatus("imgTESTFAILED", "ON");
        ResetControlsAfterTest("ERROR");
     break;
     case stateWait: 
        state = 0;
        OffAllLeds();
        SetLedStatus("imgTESTOK", "ON");           
        UpdateFrequecy(res[1]);   
        ResetControlsAfterTest("SUCCESS");    
     break;
     case stateSeek:
        SetLedStatus("imgSEEK", "ON");
        SetLedStatus("imgRUN" , "OFF");
        UpdateFrequecy(res[1]);
        UpdateAmplitude(res[3]);
        UpdatePower(res[4]);
     break;
     case stateRun:
        SetLedStatus("imgSEEK", "OFF");
        SetLedStatus("imgRUN" , "ON");
        UpdateFrequecy(res[1]);
        UpdateAmplitude(res[3]);
        UpdatePower(res[4]);
        break;
    }
    UpdateMemoryFreq(res[2]);
  
}

function SendTestPollCommand(cmd)
{
  var postUrl;
  postUrl = cmd;
  postUrl += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
                   + getCookie('USERID'));
  http.open("POST", postUrl, true);
  http.onreadystatechange = handleTestPollResponse;
  http.send(null); 
}

function StartTest()
{
	if (w)
	if (!w.closed) w.window.close();
	if(!timerid)            
		timerid = setInterval("TimerCallBack()", 500); 
	var stopCommand = false;
	var postUrl;
	var tstButton =  document.getElementById('TestButton');
	if(tstButton.value == txtStartTest)
	{
       if((state == TEST_START) || (state == WAIT_TEST_START))
        return;
      
      tstButton.disabled = true;
      postUrl = "func=13cmd=9?param=?";
      state = TEST_START;
	}
	else if(tstButton.value == txtStopTest)
	{
		if((state == WAIT_TEST_STOP) || (state == TEST_RESULT) || (state == WAIT_TEST_RESULT))
		return;
		postUrl = "func=13cmd=11?param=?";          
		msCount = TestStopTimeout;
		state = WAIT_TEST_STOP;
		stopCommand = true;
	}
	postUrl += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
                   + getCookie('USERID'));
	http.open("POST", postUrl, true);
	if(stopCommand == true)
		http.onreadystatechange = handleTestPollResponse;
	else
		http.onreadystatechange = handleRunTestResponse;
	http.send(null);  
}

function getCookie(c_name)
{
    if (document.cookie.length>0)
    {
        c_start=document.cookie.indexOf(c_name + "=");
        if (c_start!=-1)
        {
            c_start=c_start + c_name.length+1;
            c_end=document.cookie.indexOf(";",c_start);
            if (c_end==-1) c_end=document.cookie.length;
            return unescape(document.cookie.substring(c_start,c_end));
        }
    }
    return "";
}

function GetWeldData()
{
	if(document.getElementById('TestButton').value == txtStopTest)
		return;
	if (w)
	if (!w.closed) w.window.close();
	clearInterval(timerid);
	timerid = 0;
	if(PhaseLimit == 180)
		PhaseCutOff = 225;
	else
		PhaseCutOff = 113;
	document.getElementById("Td1").innerHTML = "INFO : Getting Weld Data";
	EnableDiv();
	switch(datastate)
	{
		case 1:
			var  GetWeldDataTimeUri = "func=21cmd=36?param=";
			GetWeldDataTimeUri += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
							   + getCookie('USERID'));
			http.open("POST", GetWeldDataTimeUri, true);
			http.onreadystatechange = UpdateGraphData;
			http.send(null);    
			break;
		case 2:
			var  GetWeldDataCurrentUri = "func=21cmd=38?param=";
			GetWeldDataCurrentUri += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
							   + getCookie('USERID'));
			http.open("POST", GetWeldDataCurrentUri, true);
			http.onreadystatechange = UpdateGraphData;
			http.send(null);
			break;

		case 3:
			var  GetWeldDataPhaseUri = "func=21cmd=37?param=";
			GetWeldDataPhaseUri += ("&lang=" + getCookie('LANGUAGE') + "&userid1=" 
								+ getCookie('USERID'));
			http.open("POST", GetWeldDataPhaseUri, true);
			http.onreadystatechange = UpdateGraphData;
			http.send(null);    
			break;
		case 4:
			var  GetWeldDataAmplitudeUri = "func=21cmd=39?param=";
			GetWeldDataAmplitudeUri += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
							   + getCookie('USERID'));
			http.open("POST", GetWeldDataAmplitudeUri, true);
			http.onreadystatechange = UpdateGraphData;
			http.send(null);    
			break;
		case 5:
			var  GetWeldDataPowerUri = "func=21cmd=40?param=";
			GetWeldDataPowerUri += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
							   + getCookie('USERID'));
			http.open("POST", GetWeldDataPowerUri, true);
			http.onreadystatechange = UpdateGraphData;
			http.send(null);    
			break;
		case 6:
			var  GetWeldDataPWMAmplitudeUri = "func=21cmd=41?param=";
			GetWeldDataPWMAmplitudeUri += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
							   + getCookie('USERID'));
			http.open("POST", GetWeldDataPWMAmplitudeUri, true);
			http.onreadystatechange = UpdateGraphData;
			http.send(null);    
			break;
		case 7:
			var  GetWeldDataFrequencyUri = "func=21cmd=42?param=";
			GetWeldDataFrequencyUri += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
							   + getCookie('USERID'));
			http.open("POST", GetWeldDataFrequencyUri, true);
			http.onreadystatechange = UpdateGraphData;
			http.send(null);    
			break;
		case 8:
			var  GetWeldDataPresetUri = "func=21cmd=43?param=";
			GetWeldDataPresetUri += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
							   + getCookie('USERID'));
			WeldPresetData = "";
			http.open("POST", GetWeldDataPresetUri, true);
			http.onreadystatechange = UpdateGraphData;
			http.send(null);    
			break;
		default : 
			DefaultSetting();
	}
}

function GetLanguageAndUserID(hrefpage)
{
    document.getElementById("lang").value= getCookie('LANGUAGE');
	document.getElementById("userid1").value= getCookie('USERID');
	document.temp_form.action = hrefpage;
	document.temp_form.submit();        
}

function UpdateGraphData()
{
	if (http.readyState == 4 && http.responseText.length !=0) 
	{ 				
        var i,j,results;       
        results = http.responseText.split(",");
        if (results[0] == "BUSY")
        {
            DisableDiv();
            alert("Update Graph Request is pending on another connection \r\n Please Try after some time");
            return;
        }
        if(results[0] == "Time")    
			for(i = 0; i < results.length; i++)
				Time[i] = parseFloat(results[i]);
		else if (results[0] == "Phase")
			for(i = 0; i < results.length; i++)
			{
				TempPhase = ((parseFloat(results[i]) * PhaseCutOff) / 2047).toFixed(3);
				if(TempPhase > PhaseLimit)
					Phase[i] = PhaseLimit;
				else if(TempPhase < -PhaseLimit)
					Phase[i] = - PhaseLimit;
				else
					Phase[i] = TempPhase;
			}
		else if (results[0] == "Current")
			for(i = 0; i < results.length; i++)
				Current[i] = ((parseFloat(results[i]) > 120)? 120 : parseFloat(results[i]));
		else if (results[0] == "Amplitude")
			for(i = 0; i < results.length; i++)
				Amplitude[i] = ((parseFloat(results[i]) > 120)? 120 : parseFloat(results[i]));
		else if (results[0] == "Power")
			for(i = 0; i < results.length; i++)
				Power[i] = ((parseFloat(results[i]) > 120)? 120 : parseFloat(results[i]));
		else if (results[0] == "PWMAmplitude")
			for(i = 0; i < results.length; i++)
				PWMAmplitude[i] = ((parseFloat(results[i]) > 120)? 120 : parseFloat(results[i]));
		else if (results[0] == "Frequency")
		{
			for(i = 0; i < results.length; i++)
				Frequency[i] = parseFloat(results[i]);
			if ((i -1) % 10 == 0)
				DefaultDataSize = i;
			else	
				DefaultDataSize = i - (i % 10) + 10;
			DataSize = DefaultDataSize;
			if(DataSize > 5000)
				DataSize = DefaultDataSize = 5000;
			DataLength = i - 1;
		}
		else if (results[0] == "PresetData")
		{
			StartFreq = parseInt(results[1]);
			EndFreq = parseInt(results[2]);
			PhaseLimit = parseInt(results[3]);
			for(i = 4; i < results.length; i++)
				WeldPresetData += results[i] + ',';
		}
		datastate = datastate + 1;
		GetWeldData();
	}
}

function handleDiagPSLoadResponse()
{	
	var i,j,results2,results3;       
	if (http.readyState == 4 && http.responseText.length!=0) 
	{  
		if (http.readyState == 4) 
		{   
			results = http.responseText.split("@"); 
			if((results[0] == userbranson) || (results[0] == usermf1) ||(results[0] == usermf2))
			{       
				document.getElementById('tabmenu').innerHTML = TabArr[parseInt(results[0])];                        
				document.getElementById("CurrUser").innerHTML = UserArr[parseInt(results[0])];             
			}
			else
				document.getElementById("CurrUser").innerHTML = "Current User: " + getCookie('USERID');
			StartFreq = parseInt(results[2]);
			EndFreq = parseInt(results[3]);
			PhaseLimit = parseInt(results[4]);
			document.getElementById("Td1").innerHTML = "INFO : Getting Weld Data";
			document.getElementById("TestButton").disabled = false;
			document.getElementById("brst").disabled = false;
			DrawGraph();
		}
	}
	else if(http.readyState == 4)
	{
		document.getElementById("Td1").innerHTML = "INFO : System Didn't Respond";
		EnableDiv();
	}
}

function DiagnosticPSOnLoad()
{
    window.history.forward(1);
    var DiagPSOnLoadUrl = "func=18cmd=0?param=";   
    var postUrl = DiagPSOnLoadUrl;
    postUrl += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
                   + getCookie('USERID'));
    http.open("POST", postUrl, true);
    http.onreadystatechange = handleDiagPSLoadResponse;
    http.send(null);
}

function SendResetCmd()
{
	if (w)
	if (!w.closed) w.window.close();	
    postUrl = "func=16cmd=0?param=";   
    postUrl += ("&lang=" + getCookie('LANGUAGE') + "&userid1="
                       + getCookie('USERID'));
    http.open("POST", postUrl, true);
    http.onreadystatechange = handleResetResponse;
    http.send(null);    
}

function EnableDiv()
{
	window.scrollTo(0,540);
    document.getElementById('fade_div').style.display = 'block';
    document.getElementById('info_div').style.display = 'block';
    document.getElementById('fade_div').style.width = "980px";
	document.getElementById('fade_div').style.height = "1050px"; 
    var temp = (parseInt(document.getElementById('fade_div').style.width)
		- parseInt(document.getElementById('info_div').style.width)) / 2;
    document.getElementById('info_div').style.left = temp + "Px";
}

function DisableDiv()
{
    document.getElementById('fade_div').style.display = 'none';
    document.getElementById('info_div').style.display = 'none';
}
function GetUserManual(hrefpage)
{
    window.open(hrefpage);
}
function DisplayGraphValue()
{
	if (w)
	if (!w.closed) w.window.close();
	var value = parseFloat(document.getElementById('XValue').value);
	var i;
	if(document.getElementById('SelectedGraph').selectedIndex != 0)
	{
		if(value >= 0 && value <= DataLength)
		{
			switch(document.getElementById('SelectedGraph').selectedIndex)
			{	
				case 1:
						document.getElementById('YValue').value = Phase[value];
						break;
				case 2:
						document.getElementById('YValue').value = Current[value];
						break;
				case 3:
						document.getElementById('YValue').value = Amplitude[value];
						break;
				case 4:
						document.getElementById('YValue').value = Power[value];
						break;
				case 5:
						document.getElementById('YValue').value = PWMAmplitude[value];
						break;
				case 6:
						document.getElementById('YValue').value = Frequency[value];
						break;
			}
		}
		else
			alert("Enter correct Time");
	}
	else
		alert("Select Graph");
}

    var graph,c;
    var xPadding;
	var yPadding;
	var y1Padding
	var DiffFreq;
	var MaxX;
	var MaxY;
	var MinY;
	var DiffCurrent;
	var DiffTime;
    var DiffPower;
    var DiffCurrent;
    var DiffAmplitude;
    var DiffPhase;
	var MaxX;
	var MaxY;
	var graphheight;
	var graphwidth;
    function getMaxY(arr) {
		var max = 0,max1;
        for(var i = 1; i < DefaultDataSize - 1; i ++) {
            if(arr[i] > max) {
                max = arr[i];
            }
        }
		max1 = (max - (max % 10))/10 ;
		max = max1 * 10 + 100;
		return max;
	}

	function getMinY(arr) {
		var min = 0,min1;
		for(var i = 1; i < DefaultDataSize - 1; i ++){
            if(arr[i] < min) {
                min = arr[i];
            }
        }
		return min;
	}

	function getMaxX(arr) {
		var max = 0,max1;
		for(var i = 1; i < DefaultDataSize - 1; i ++){
            if(arr[i] > max) {
                max = arr[i];
            }
        }
		max1 = (max - (max % 10))/10 ;
		max = max1 * 10 + 120;
		return max;
	}
    function getXPixel(val,max) {
        return ((graphwidth - xPadding) / max) * val + (xPadding * 1.5) - 145;
    }
        // Return the y pixel for a graph point
    function getYPixel(val,max) {
        return graphheight - (((graphheight - yPadding) / max) * val) - yPadding;
    }
/* It sets the graph Display to default*/          
function DefaultSetting(){
	if (w)
	if (!w.closed) w.window.close();
	document.getElementById("Phase:cb").checked = true;
	document.getElementById("Current:cb").checked = true;
	document.getElementById("Amplitude:cb").checked = true;
	document.getElementById("Power:cb").checked = true;
	document.getElementById("Frequency:cb").checked = true;
	document.getElementById("StartTime:tt").value = 0;
	document.getElementById("EndTime:tt").value = DefaultDataSize;
	document.getElementById("XValue").value = 0;
	document.getElementById("YValue").value = 0;
	document.getElementById('SelectedGraph').selectedIndex = 1;
	if(!timerid)            
		timerid = setInterval("TimerCallBack()", 500); 
	DrawGraph();
}
function RedrawGraph(){
	if (w)
	if (!w.closed) w.window.close();
	var StartTime = parseFloat(document.getElementById("StartTime:tt").value);
	var EndTime = parseFloat(document.getElementById("EndTime:tt").value);
	if(StartTime < 0)
		StartTime = 0;
	if(EndTime > 5000)
		EndTime = 5000;
	document.getElementById("StartTime:tt").value = StartTime;
	document.getElementById("EndTime:tt").value = EndTime;
	if((EndTime - StartTime) >= 100){
		if((StartTime % 10) != 0)
			document.getElementById("StartTime:tt").value = StartTime - (StartTime % 10);
		if((EndTime % 10) != 0)
		document.getElementById("EndTime:tt").value = EndTime + (10 - (EndTime % 10));
		c.clearRect(0,0, 900,500);
		DrawGraph();
	}
	else
		alert("Minimum Time difference should be of 100ms");
}
function DrawGraph(){
	document.getElementById("Td1").innerHTML = "INFO : System is busy";
	DisableDiv();
	graph = $('#graph');
	c = graph[0].getContext('2d');   
	c.clearRect(0,0, 900,500);
	datastate = 1;
	xPadding = 292;
	yPadding = 40;
	y1Padding = -50;
	DiffFreq = 10;
	MinY = 0;
	DiffCurrent = 10;
	DiffTime = 10;
	DiffPower = 10;
	DiffCurrent = 10;
	DiffAmplitude = 10;
	DiffPhase = 10;
	var StartTime = parseFloat(document.getElementById("StartTime:tt").value);
	var EndTime = parseFloat(document.getElementById("EndTime:tt").value);
	DataSize = EndTime - StartTime;
	MaxY = 100;
	MaxX = EndTime - StartTime;  //getMaxX(Time);
	if((MaxX % 10) != 0)
		MaxX = MaxX - (MaxX % 10) + 10;
	DiffTime = MaxX / 10;
	MaxX = MaxX + DiffTime;
	graphheight = graph.height();
	graphwidth = graph.width();
	if (DataLength < DataSize)
		DataSize = DataLength + 1;
		//WWWW(graph);
		c.clearRect(0,0, 900,500);
		//c.strokeStyle = '#333';
		c.font = '8pt arial';
		c.textAlign = "center";
		// Draw the axises
		c.stroke();
		c.strokeStyle = "Black";
		c.lineWidth = 1;
		c.beginPath();
		c.moveTo(0,0);
		// Draw X axis
		c.moveTo(xPadding, graphheight - yPadding);
		c.lineTo(graphwidth - 50, graphheight - yPadding);
		c.moveTo(xPadding, yPadding);
		c.lineTo(graphwidth - 50, yPadding);          // Draw X2 axis
		c.lineTo(graphwidth - 50, graphheight - yPadding); // Draw Y' axis
		c.stroke();
		
		// Draw the X value texts
		c.fillStyle = "Black";
		c.beginPath();
		c.lineWidth = .5;
		for(var i = 0, j = StartTime; i < MaxX; i += DiffTime, j += DiffTime) {
			if(i % DiffTime == 0)
			{	c.fillText(j, getXPixel(i,MaxX), graphheight - yPadding + 20);
				c.moveTo(getXPixel(i,MaxX),graphheight - yPadding - 2);
				c.lineTo(getXPixel(i,MaxX),graphheight - yPadding + 3);
			}
		}
		c.stroke();
		StartTime++;
		if(document.getElementById("Phase:cb").checked == true)
		{
			y1Padding = y1Padding + 48;
            // Draw the Y value texts
			MaxY = PhaseLimit;        //getMaxY(Phase);
			DiffPhase = MaxY / 10;
			MaxY = MaxY + (DiffPhase - (DiffPhase % 10) + 10);
			MinY = -PhaseLimit;       //getMinY(Phase);
			c.lineWidth = 1;
			c.strokeStyle = "Black";
			c.beginPath();
			c.moveTo(xPadding, yPadding);
			c.lineTo(xPadding, graphheight - yPadding);             // Draw Y axis
			c.moveTo(xPadding, graphheight/ 2 + 3);
			c.lineTo(graphwidth - 50, graphheight / 2 + 3); // Draw X1 axis
			c.stroke();

			c.textAlign = "right";
            c.textBaseline = "middle";
			c.strokeStyle = "Black";
			var temp = 1;
			if((MinY + MaxY) < 0)
				MaxY = - MinY;
			temp = PhaseLimit / 5;         // MaxY / 5;
			var temp2 = 0;
			temp2 = -PhaseLimit;
			c.beginPath();
			var PhOffset = 0;
			if(PhaseLimit == 120)
				PhOffset = 7;
            for(var i = 0; i < MaxY - DiffPhase; i += DiffPhase, temp2 += temp) {
				if(i % DiffPhase == 0)
				{
					c.fillText(temp2, xPadding - 8, getYPixel(i,MaxY - PhOffset));
					c.moveTo(xPadding + 2,getYPixel(i,MaxY - PhOffset));
					c.lineTo(xPadding - 3,getYPixel(i,MaxY - PhOffset));

				}
            }
			c.stroke();
			// Draw the line graph Phase
			c.strokeStyle = "Black";
			c.beginPath();
			c.moveTo(getXPixel(0,MaxX), getYPixel(0,MaxY - PhOffset) - 207);
            c.moveTo(getXPixel(0,MaxX), getYPixel(Phase[StartTime]/2,MaxY - PhOffset) - 207);
            for(var i = 1, j = StartTime; i < DataSize - 1; i += 1, j += 1) {
				c.lineTo(getXPixel(i,MaxX), getYPixel(Phase[j]/2,MaxY - PhOffset) - 207);
            }
            c.stroke();
	  	}
		document.getElementById("Amplitude:cb").checked = true;
		if(document.getElementById("Amplitude:cb").checked == true)
		{
			y1Padding = y1Padding + 48;
			// Draw Y2 Amplitude
			MaxY = 120; // getMaxY(Amplitude);
			DiffAmplitude = MaxY / 10;
			MaxY = MaxY + (DiffAmplitude - (DiffAmplitude % 10) + 10);

			c.lineWidth = 1;
			c.strokeStyle = "Green";
			c.beginPath();
			c.moveTo(xPadding - y1Padding, yPadding);
			c.lineTo(xPadding - y1Padding, graphheight - yPadding);   //100
			c.stroke();
			// Draw the Y2 value texts
            c.textAlign = "right";
            c.textBaseline = "middle";
			c.beginPath();
            for(var i = 0; i < MaxY - 10; i += DiffAmplitude) {
				if(i % DiffAmplitude == 0)
				{
					c.fillText(i, xPadding - y1Padding - 5, getYPixel(i,MaxY - 8));
					c.moveTo(xPadding - y1Padding + 5,getYPixel(i,MaxY - 8));
					c.lineTo(xPadding - y1Padding,getYPixel(i,MaxY - 8));

				}
            }
			c.stroke();
            // Draw the line graph Amplitude
			c.strokeStyle = "Green";
            c.beginPath();
            c.moveTo(getXPixel(0,MaxX), getYPixel(0,MaxY - 8));
			c.moveTo(getXPixel(0,MaxX),getYPixel(Amplitude[StartTime],MaxY - 8));
            for(var i = 1, j = StartTime; i < DataSize - 2;i += 1, j += 1) {
                c.lineTo(getXPixel(i,MaxX), getYPixel(Amplitude[j],MaxY - 8));
            }
            c.stroke();
		}
		if(document.getElementById("Current:cb").checked == true)
		{
			y1Padding = y1Padding + 48;
			// Draw Y1
			MaxY = 120; // getMaxY(Current);
			DiffCurrent = MaxY / 10;           //getMaxY(Current) / 10;
			MaxY = MaxY + (DiffCurrent - (DiffCurrent % 10) + 10);
			c.lineWidth = 1;
			c.strokeStyle = "Blue";
			c.beginPath();
			c.moveTo(xPadding - y1Padding, yPadding);
			c.lineTo(xPadding - y1Padding, graphheight - yPadding);
			c.stroke();
			// Draw the Y1 value texts
            c.textAlign = "right";
            c.textBaseline = "middle";
			c.beginPath();
            for(var i = 0; i < MaxY - 10; i += DiffCurrent) {
				if(i % DiffCurrent == 0)
				{
					c.fillText(i, xPadding - y1Padding - 5, getYPixel(i,MaxY - 8));
					c.moveTo(xPadding - y1Padding + 5,getYPixel(i,MaxY - 8));
					c.lineTo(xPadding - y1Padding,getYPixel(i,MaxY - 8));

				}
            }
			c.stroke();
            // Draw the line graph Current
			c.strokeStyle = "Blue";
            c.beginPath();
			c.moveTo(getXPixel(0,MaxX), getYPixel(0,MaxY - 8));
            c.moveTo(getXPixel(0,MaxX), getYPixel(Current[StartTime],MaxY - 8));
            for(var i = 1, j = StartTime; i < DataSize - 1;i += 1, j += 1) {
                c.lineTo(getXPixel(i,MaxX),getYPixel(Current[j],MaxY - 8));
            }
            c.stroke();
		}
		if(document.getElementById("Power:cb").checked == true)
		{
			y1Padding = y1Padding + 48;
			MaxY = 120; // getMaxY(Power);
			DiffPower = MaxY / 10;
			MaxY = MaxY + (DiffPower - (DiffPower % 10) + 10);
			// Draw Y3 Power
			c.lineWidth = 1;
			c.strokeStyle = "Red";
			c.beginPath();
			c.moveTo(xPadding - y1Padding, yPadding);
			c.lineTo(xPadding - y1Padding, graphheight - yPadding);
			c.stroke();
			// Draw the Y1 value texts
            c.textAlign = "right";
            c.textBaseline = "middle";
			c.beginPath();
            for(var i = 0; i < MaxY - 10; i += DiffPower) {
				if(i % DiffPower == 0)
				{
			        c.fillText(i, xPadding - y1Padding - 5, getYPixel(i,MaxY - 8));
					c.moveTo(xPadding - y1Padding + 5,getYPixel(i,MaxY - 8));
					c.lineTo(xPadding - y1Padding,getYPixel(i,MaxY - 8));

				}
            }
			c.stroke();
            // Draw the line graph Power
			c.strokeStyle = "Red";
            c.beginPath();
            c.moveTo(getXPixel(0,MaxX), getYPixel(0,MaxY - 8));
			c.moveTo(getXPixel(0,MaxX), getYPixel(Power[StartTime],MaxY - 8));
            for(var i = 1, j = StartTime; i < DataSize - 2;i += 1, j += 1) {
                c.lineTo(getXPixel(i,MaxX), getYPixel(Power[j],MaxY - 8));
            }
            c.stroke();
		}
		if(document.getElementById("PWMAmplitude:cb").checked == true)
		{
			y1Padding = y1Padding + 48;
			MaxY = 120; //getMaxY(PWMAmplitude);
			DiffPower = MaxY / 10;
			MaxY = MaxY + (DiffPower - (DiffPower % 10) + 10);
			// Draw Y3 Power
			c.lineWidth = 1;
			c.strokeStyle = "Gray";
			c.beginPath();
			c.moveTo(xPadding - y1Padding, yPadding);
			c.lineTo(xPadding - y1Padding, graphheight - yPadding);
			c.stroke();
			// Draw the Y1 value texts
            c.textAlign = "right";
            c.textBaseline = "middle";
			c.beginPath();
            for(var i = 0; i < MaxY - 10; i += DiffPower) {
				if(i % DiffPower == 0)
				{
			        c.fillText(i, xPadding - y1Padding - 5, getYPixel(i,MaxY - 8));
					c.moveTo(xPadding - y1Padding + 5,getYPixel(i,MaxY - 8));
					c.lineTo(xPadding - y1Padding,getYPixel(i,MaxY - 8));

				}
            }
			c.stroke();
            // Draw the line graph Power
			c.strokeStyle = "Gray";
            c.beginPath();
			 c.moveTo(getXPixel(0,MaxX), getYPixel(0,MaxY - 8));
            c.moveTo(getXPixel(0,MaxX), getYPixel(PWMAmplitude[StartTime],MaxY - 8));
            for(var i = 1, j = StartTime; i < DataSize - 2;i += 1, j += 1) {
                c.lineTo(getXPixel(i,MaxX), getYPixel(PWMAmplitude[j],MaxY - 8));
            }
            c.stroke();
		}
		if(document.getElementById("Frequency:cb").checked == true)
		{
			y1Padding = y1Padding + 48;
			MaxY = EndFreq - StartFreq;	 //getMaxY(Frequency);
			DiffPower = parseInt((EndFreq - StartFreq) / 10);   //MaxY / 10;
			MaxY = MaxY + (DiffPower - (DiffPower % 10) + 10);
			// Draw Y3 Power
			c.lineWidth = 1;
			c.strokeStyle = "Purple";
			c.beginPath();
			c.moveTo(xPadding - y1Padding, yPadding);
			c.lineTo(xPadding - y1Padding, graphheight - yPadding);
			c.stroke();
			// Draw the Y1 value texts
            c.textAlign = "right";
            c.textBaseline = "middle";
			c.beginPath();
            for(var i = 0; i < MaxY - 10; i += DiffPower) {
				if(i % DiffPower == 0)
				{
			        c.fillText(i + StartFreq, xPadding - y1Padding - 5, getYPixel(i,MaxY - 8));
					c.moveTo(xPadding - y1Padding + 5,getYPixel(i,MaxY - 8));
					c.lineTo(xPadding - y1Padding,getYPixel(i,MaxY - 8));

				}
            }
			c.stroke();
            // Draw the line graph Power
			c.strokeStyle = "Purple";
            c.beginPath();
			c.moveTo(getXPixel(0,MaxX), getYPixel(0,MaxY - 8));
            c.moveTo(getXPixel(0,MaxX), getYPixel(Frequency[StartTime] - StartFreq,MaxY - 8));
            for(var i = 1, j = StartTime; i < DataSize - 2;i += 1, j += 1) {
                c.lineTo(getXPixel(i,MaxX), getYPixel(Frequency[j] - StartFreq,MaxY - 8));
            }
            c.stroke();
		}
		y1Padding = 305;
		c.textAlign = "left";
        c.font = 'Bold 10pt sans-serif';
		c.fillText("TIME (ms)", 500 ,495);
		c.rotate(-90*Math.PI/180);
		if(document.getElementById("Phase:cb").checked == true)
		{
			y1Padding = y1Padding - 48;
			c.fillStyle = "Black";
			c.fillText("PHASE (Deg)", - 300 ,y1Padding);
		}
		if(document.getElementById("Amplitude:cb").checked == true)
		{
			y1Padding = y1Padding - 48;
			c.fillStyle = "Green";
			c.fillText("AMPLITUDE (%)", - 300 ,y1Padding);
		}
		if(document.getElementById("Current:cb").checked == true)
		{
			y1Padding = y1Padding - 48;
			c.fillStyle = "Blue";
			c.fillText("CURRENT (%)", - 300 ,y1Padding);
		}
		if(document.getElementById("Power:cb").checked == true)
		{
			y1Padding = y1Padding - 48;
			c.fillStyle = "Red";
			c.fillText("POWER (%)", - 300 ,y1Padding);
		}
		if(document.getElementById("PWMAmplitude:cb").checked == true)
		{
			y1Padding = y1Padding - 48;
			c.fillStyle = "Gray";
			c.fillText("PWM AMPLITUDE (%)", - 300 ,y1Padding);
		}
		if(document.getElementById("Frequency:cb").checked == true)
		{
			y1Padding = y1Padding - 53;
			c.fillStyle = "Purple";
			c.fillText("FREQUENCY (Hz)", - 300 ,y1Padding);
		}
		c.rotate(90*Math.PI/180);
		// Draw the Dummy Y axis
		c.stroke();
		c.strokeStyle = "Black";
		c.lineWidth = .5;
		c.beginPath();
		c.moveTo(0,0);
		c.moveTo(xPadding, yPadding);
		c.lineTo(xPadding + 1, yPadding + 1); 
		c.stroke();
}

function ExportGraphDataToExcel()
{
	if (!Phase[1])
	{
		alert("   No Graph Data   ");
		return;
	}
	if(document.getElementById('TestButton').value == txtStopTest)
		return;
	if (w)
	if (!w.closed) return;
	clearInterval(timerid);
	timerid = 0;
	w = window.open('UserComment.html','',sOption);
	var temp = "";
	var FileHeader = "\n\nTIME(ms),CURRENT(\%),AMPLITUDE(\%),POWER(%),PWM AMPLITUDE(\%),PHASE(Degree),FREQUENCY(Hz)\n";
	temp += "\n\n" + WeldPresetData + FileHeader; 
	for(j = 1; j < DataLength; j++ )
	{
		if(!Frequency[j])
			break;
		temp += j + ',' + Current[j] + "," + Amplitude[j] + "," + Power[j] + "," + PWMAmplitude[j] + "," + Phase[j] + "," + Frequency[j] + "\n";
	}
	document.getElementById("tempdata").value = temp;
}

$(document).ready(function() {
	document.getElementById("Phase:cb").checked = true;
	document.getElementById("Current:cb").checked = true;
	document.getElementById("Amplitude:cb").checked = true;
	document.getElementById("Power:cb").checked = true;
	document.getElementById("Frequency:cb").checked = true;
	document.getElementById("StartTime:tt").value = 0;
	document.getElementById("EndTime:tt").value = DataSize;
	document.getElementById("XValue").value = 0;
	document.getElementById("YValue").value = 0;
	document.getElementById('SelectedGraph').selectedIndex = 1;	
});

</script>
<body onload="DiagnosticPSOnLoad()"> 
<div id="fade_div" style="width: 840px; height: 630px; filter: alpha(opacity=50); background-color: #FFFFFF; margin-left: 0px; margin-top: 220px;margin-left:20px; z-index: 100; display: none; position: absolute"> 
<table summary="" border="0" height="600px" width="1100px"> <tr> <td style="height: 600px; width: 1100px"> &nbsp;
</td>
</tr> 
</table> 
</div>
<div id="info_div" style="display: none; position:absolute;width:250px;height:80px;z-index:102;left:435px;top:740px;"> <table summary="" cellspacing="3" border="0" style="background-color: #000000; width: 250px; height: 80px;"> 
<tr>
<td> 
<table summary="" cellspacing="0" border="0" style="background-color: #FFFFFF; width: 245px; height: 80px;">
<tr>
<td id="Td1" style="font-weight: bold; font-size: 14pt; text-align: center"> INFO : Getting Weld Data</td>
</tr>
</table> 
</td>
</tr>
</table> 
</div> 
<div id="wrapper">
<div id="header"> 
<div id="headerNav"> 
<div id="headerLogo"> <!-- <img src="images/bransonLogo.png" alt="Branson" /> //--> </div> <!-- end headerLogo //--> <div id="headerLinks"> <span class="user" id="CurrUser">Current User: </span> <!--<a href="javascript:GetUserManual('DCXManual.pdf')">User Manual</a> | --> <a href="index.html">Logout</a> </div> <!-- end HeaderLinks //--> 
	</div> <!-- end headerNav //--> 
		<div id="mainNav"> <ul id="tabmenu" onclick="if (w) if (!w.closed) w.window.close();">
			<li><a href="javascript:GetLanguageAndUserID('ip-setup.html')">IP Setup</a></li>
			<li><a href="javascript:GetLanguageAndUserID('weld-preset.html')">Weld Preset</a></li> 
			<li><a href="javascript:GetLanguageAndUserID('advanced-preset.html')">Advanced Preset</a></li>
			<li><a href="javascript:GetLanguageAndUserID('diagnostic-IO.html')">I/O Diagnostics</a></li> 
			<li class="active"><a href="javascript:GetLanguageAndUserID('Test&WeldGraphs.html')">Test & </br>Weld Graphs</a></li>
			<li><a href="javascript:GetLanguageAndUserID('hornsignature.html')">Horn <br /> Signature</a></li>
			<li><a href="javascript:GetLanguageAndUserID('system-information.html')">System Information</a></li> 
			<li><a href="javascript:GetLanguageAndUserID('IO-configuration.html')">I/O Configuration</a></li> <!--<li><a href="javascript:GetLanguageAndUserID('event-log.html')">Event Log</a></li>-->
			<li><a href="javascript:GetLanguageAndUserID('alarm-log.html')">Alarm Log</a></li> 
		 </ul> 
	 </div> <!-- end mainNav //-->
	 </div> <!-- end header //--> 
 <div id="content"> 
 <div class="contentBoxWrapper" style="width: 700px"> 
 <table>
 <tr>
 <td> 
	 <div class="contentBoxHeader">
		<h1> PS Test</h1>
	</div> <!-- end contentBoxHeader //-->
	<div class="gradientBox" style="padding-top: 10px"> <div class="buttonInGradient">
	<input name="StartTest" type="button" class="button" value="     Start Test    " id="TestButton" onclick="StartTest()" />
	<input name="RstOL" type="button" class="button" value=" Reset Overload" id="brst" onclick="SendResetCmd()" /> </div> <!-- end buttonInGradient //--> <div class="subBoxWrapper"> <div class="subBoxHeader"> Status </div> <!-- end subBoxHeader //--> <div class="subBoxContent"> <div class="checkbox" style="padding-left: 20px"> <img src="greyDot.gif" alt="On" id="imgRUN" /></div> <!-- end checkbox //-->
	<div class="textLabel" style="padding-left: 20px"> Run</div> <!-- end label //--> <div class="clearit"> </div> <!-- end clearit //--> <div class="checkbox" style="padding-left: 20px"> <img src="greyDot.gif" alt="On" id="imgSEEK" /></div> <!-- end checkbox //--> <div class="textLabel" style="padding-left: 20px"> Seek</div> <!-- end label //--> <div class="clearit"> </div> <!-- end clearit //--> </div> <!-- end subBoxContent //--> </div> <!-- end subBoxWrapper //--> <div class="subBoxWrapper"> <div class="subBoxHeader"> Result </div> <!-- end subBoxHeader //--> 
	<div class="subBoxContent"> <div class="checkbox" style="padding-left: 20px"> <img src="greyDot.gif" alt="On" id="imgTESTOK" /></div> <!-- end checkbox //--> <div class="textLabelBigLeft" style="padding-left: 23px"> OK-Stored</div> <!-- end label //--> <div class="clearit"> </div> <!-- end clearit //--> <div class="checkbox" style="padding-left: 20px"> <img src="greyDot.gif" alt="On" id="imgTESTFAILED" /></div> <!-- end checkbox //--> <div class="textLabelBigLeft" style="padding-left: 23px"> Overload-Cleared</div> <!-- end label //--> <div class="clearit"> </div> <!-- end clearit //--> </div> <!-- end subBoxContent //--> </div> <!-- end subBoxWrapper //--> </div> </td> <td> <br /> <br /> <br /> <br /> <br /> 
	<table>
	<tr>
		<td> 
			<div class="ieDropFix"> <div class="textLabelCenter" style="width: 90px; height: 16px;"> Frequency</div> </div> </td> <td> 
			<div class="ieDropFix"> <div class="labelBar" style="border: 1px solid black; width: 162px; height: 16px;"> 
			<div class="ieDropFix"> <table> <tr> <td> <div id="Freq_Seg1" class="divClass"> </div> </td> <td> <div id="Freq_Seg2" class="divClass"> </div> </td> <td> <div id="Freq_Seg3" class="divClass"> </div> </td> <td> <div id="Freq_Seg4" class="divClass"> </div> </td> <td> <div id="Freq_Seg5" class="divClass"> </div> </td> <td> <div id="Freq_Seg6" class="divClass"> </div> </td> <td> <div id="Freq_Seg7" class="divClass"> </div> </td> <td> <div id="Freq_Seg8" class="divClass"> </div> </td> <td> <div id="Freq_Seg9" class="divClass"> </div> </td> <td> <div id="Freq_Seg10" class="divClass"> </div> </td> <td> <div id="Freq_Seg11" class="divClass"> </div> </td> <td> <div id="Freq_Seg12" class="divClass"> </div> </td> <td> <div id="Freq_Seg13" class="divClass"> </div> </td> <td> <div id="Freq_Seg14" class="divClass"> </div> </td> <td> <div id="Freq_Seg15" class="divClass"> </div> </td> <td> <div id="Freq_Seg16" class="divClass"> </div> </td> <td> <div id="Freq_Seg17" class="divClass"> </div> </td> <td> <div id="Freq_Seg18" class="divClass"> </div> </td> <td> <div id="Freq_Seg19" class="divClass"> </div> </td> <td> <div id="Freq_Seg20" class="divClass"> </div> </td> </tr> </table> </div> </div> </div><div class="textLabelCenter" style="width: 90px; height: 16px;" id="Frequency:tt">xxxx</div> 
		</td> 
	</tr>
	</table> <div class="clearit"> </div> <!-- end clearit   <input name="" class="textInput" id="Frequency:tt" style="width: 80px" />    <input name="" class="textInput" id="Memory:tt" style="width: 80px" /> <input name="" class="textInput" id="Amplitude:tt" style="width: 80px" />  <input name="" class="textInput" id="Power:tt" style="width: 80px" /> //-->
	<table>
	<tr> 
		<td> 
			<div class="ieDropFix"> <div class="textLabelCenter" style="width: 90px; height: 16px;"> Memory</div> </div> </td> <td> 
			<div class="ieDropFix"> <div class="labelBar" style="border: 1px solid black; width: 162px; height: 16px;"> 
			<div class="ieDropFix"> <table> <tr> <td> <div id="Mem_seg1" class="divClass"> </div> </td> <td> <div id="Mem_seg2" class="divClass"> </div> </td> <td> <div id="Mem_seg3" class="divClass"> </div> </td> <td> <div id="Mem_seg4" class="divClass"> </div> </td> <td> <div id="Mem_seg5" class="divClass"> </div> </td> <td> <div id="Mem_seg6" class="divClass"> </div> </td> <td> <div id="Mem_seg7" class="divClass"> </div> </td> <td> <div id="Mem_seg8" class="divClass"> </div> </td> <td> <div id="Mem_seg9" class="divClass"> </div> </td> <td> <div id="Mem_seg10" class="divClass"> </div> </td> <td> <div id="Mem_seg11" class="divClass"> </div> </td> <td> <div id="Mem_seg12" class="divClass"> </div> </td> <td> <div id="Mem_seg13" class="divClass"> </div> </td> <td> <div id="Mem_seg14" class="divClass"> </div> </td> <td> <div id="Mem_seg15" class="divClass"> </div> </td> <td> <div id="Mem_seg16" class="divClass"> </div> </td> <td> <div id="Mem_seg17" class="divClass"> </div> </td> <td> <div id="Mem_seg18" class="divClass"> </div> </td> <td> <div id="Mem_seg19" class="divClass"> </div> </td> <td> <div id="Mem_seg20" class="divClass"> </div> </td> </tr> </table> </div> </div> </div>  <div class="textLabelCenter" style="width: 90px; height: 16px;" id="Memory:tt"> xxxx</div> </td> </tr></table> 
	<table>
	<tr>
		<td>
			<div class="ieDropFix"> <div class="textLabelCenter" style="width: 90px; height: 16px;"> Amplitude</div> </div> </td> <td>
			<div class="ieDropFix"> <div class="labelBar" style="border: 1px solid black; width: 162px; height: 16px;"> 
			<div class="ieDropFix"> <table> <tr> <td> <div id="Amp_Seg1" class="divClass"> </div> </td> <td> <div id="Amp_Seg2" class="divClass"> </div> </td> <td> <div id="Amp_Seg3" class="divClass"> </div> </td> <td> <div id="Amp_Seg4" class="divClass"> </div> </td> <td> <div id="Amp_Seg5" class="divClass"> </div> </td> <td> <div id="Amp_Seg6" class="divClass"> </div> </td> <td> <div id="Amp_Seg7" class="divClass"> </div> </td> <td> <div id="Amp_Seg8" class="divClass"> </div> </td> <td> <div id="Amp_Seg9" class="divClass"> </div> </td> <td> <div id="Amp_Seg10" class="divClass"> </div> </td> <td> <div id="Amp_Seg11" class="divClass"> </div> </td> <td> <div id="Amp_Seg12" class="divClass"> </div> </td> <td> <div id="Amp_Seg13" class="divClass"> </div> </td> <td> <div id="Amp_Seg14" class="divClass"> </div> </td> <td> <div id="Amp_Seg15" class="divClass"> </div> </td> <td> <div id="Amp_Seg16" class="divClass"> </div> </td> <td> <div id="Amp_Seg17" class="divClass"> </div> </td> <td> <div id="Amp_Seg18" class="divClass"> </div> </td> <td> <div id="Amp_Seg19" class="divClass"> </div> </td> <td> <div id="Amp_Seg20" class="divClass"> </div> </td> </tr> </table> </div> </div> </div> <div class="textLabelCenter" style="width: 90px; height: 16px;" id="Amplitude:tt"> xxxx</div>  </td> </tr> </table> 
	<table> 
	<tr> 
		<td> 
			<div class="ieDropFix"> <div class="textLabelCenter" style="width: 90px; height: 16px"> Power</div> </div></td> <td>
			<div class="ieDropFix"> <div class="labelBar" style="border: 1px solid black; width: 162px; height: 16px;">
			<div class="ieDropFix"> <table> <tr> <td> <div id="Power_Seg1" class="divClass"> </div> </td> <td> <div id="Power_Seg2" class="divClass"> </div> </td> <td> <div id="Power_Seg3" class="divClass"> </div> </td> <td> <div id="Power_Seg4" class="divClass"> </div> </td> <td> <div id="Power_Seg5" class="divClass"> </div> </td> <td> <div id="Power_Seg6" class="divClass"> </div> </td> <td> <div id="Power_Seg7" class="divClass"> </div> </td> <td> <div id="Power_Seg8" class="divClass"> </div> </td> <td> <div id="Power_Seg9" class="divClass"> </div> </td> <td> <div id="Power_Seg10" class="divClass"> </div> </td> <td> <div id="Power_Seg11" class="divClass"> </div> </td> <td> <div id="Power_Seg12" class="divClass"> </div> </td> <td> <div id="Power_Seg13" class="divClass"> </div> </td> <td> <div id="Power_Seg14" class="divClass"> </div> </td> <td> <div id="Power_Seg15" class="divClass"> </div> </td> <td> <div id="Power_Seg16" class="divClass"> </div> </td> <td> <div id="Power_Seg17" class="divClass"> </div> </td> <td> <div id="Power_Seg18" class="divClass"> </div> </td> <td> <div id="Power_Seg19" class="divClass"> </div> </td> <td> <div id="Power_Seg20" class="divClass"> </div> </td> </tr> </table> </div> </div> </div><div class="textLabelCenter" style="width: 90px; height: 16px"  id="Power:tt"> xxxx</div> </td> </tr> </table> <!-- end ieDropFix //--> <div class="clearit"> </div> <!-- end clearit //--> <br /> <br /> <br /> <br /> <br /> <br /> </td> </tr> </table> </div> </div> <!-- end contentBoxWrapper //--><div class="clearit"> 
	<div id="parent" style="margin-left:40px">
	<canvas id="graph" width="900" height="500" ></canvas>
		<div class="clearit"> </div> <!-- end clearit //-->
		<div style="position:absolute; top:1030px">
		<div class="ieDropFix"> <input type="hidden" id="" /></div> <!-- end ieDropFix //--> 
		<div class="checkboxLeft"><input name="" type="checkbox" value="" id="Amplitude:cb" disabled="disabled" /></div> <!-- end checkbox //--> <div class="textLabelBigLeft"> AMPLITUDE</div> <!-- end label //--> <input type="hidden" id="" /> <!-- end ieDropFix //-->
		<div class="ieDropFix"> <div class="checkboxLeft"> <input name="" type="checkbox" value="" id="Phase:cb" /></div> <!-- end checkbox //--> <div class="textLabelBigLeft"> PHASE</div> <!-- end label //--> <input type="hidden" id="tempid4" /></div> <!-- end ieDropFix //--> 
		<div class="ieDropFix"> <div class="checkboxLeft"> <input name="" type="checkbox" value="" id="Current:cb" /></div> <!-- end checkbox //--> <div class="textLabelBigLeft"> CURRENT</div> <!-- end label //--> <input type="hidden" id="" /></div> <!-- end ieDropFix //--> <div class="clearit"> </div> <!-- end clearit //-->
		<div class="ieDropFix"> <div class="checkboxLeft"> <input name="" type="checkbox" value="" id="Power:cb" /></div> <!-- end checkbox //--> <div class="textLabelBigLeft"> POWER</div> <!-- end label //--> <input type="hidden" id="tempid5" /></div> <!-- end ieDropFix //--> 
		<div class="ieDropFix"> <div class="checkboxLeft"> <input name="" type="checkbox" value="" id="PWMAmplitude:cb" /></div> <!-- end checkbox //--> <div class="textLabelBigLeft"> PWM AMPLITUDE</div> <!-- end label //--> <input type="hidden" id="tempid6" /></div> <!-- end ieDropFix //-->
		<div class="ieDropFix"> <div class="checkboxLeft"> <input name="" type="checkbox" value="" id="Frequency:cb" /></div> <!-- end checkbox //--> <div class="textLabelBigLeft"> FREQUENCY</div> <!-- end label //--> <input type="hidden" id="tempid7" /></div> <!-- end ieDropFix --> <br /> <input name="Update Graph" type="button" class="button" value="Update Graph" onclick="GetWeldData()" /> <input name="Export Graph" type="button" class="button" value="Export Graph Data" onclick="ExportGraphDataToExcel()" /> <div class="clearit"> </div>
		<div class="contentBoxWrapper" style="border: 0.5px solid black; width: 780px; height: 90px; " id="Zoom"> 
		<div class="ieDropFix"> <div class="textLabelBigLeft" style="width: 72px; text-align: right"> Draw from</div> <!-- end label //--> <input name="" class="textInput" id="StartTime:tt" style="width: 50px" /><div class="textLabelBigLeft" style="width: 20px"> ms </div> <div class="textLabelBigLeft" style="width: 20px; text-align: right"> To</div> <!-- end label //--> <input name="" class="textInput" id="EndTime:tt" style="width: 50px" /><div class="textLabelBigLeft" style="width: 20px"> ms </div> <div class="textLabelBigLeft" style="width: 23px"> </div> <!-- end label --> <br /> <input name="Redraw Graph" type="button" class="button" value="Redraw Graph" onclick="RedrawGraph()" /><input name="SetDefault" type="button" class="button" value="Set Default" onclick="DefaultSetting()" /><input type="hidden" id="tempid9" /></div> <!-- end ieDropFix --> <div class="clearit"> </div>   
		<div class="ieDropFix"> <div class="textLabelBigLeft" style="width: 107px; text-align: right"> Graph Selection</div> <!-- end label --> <div class="dropdown"> <select id="SelectedGraph" size="width:150px" > <option>Select Graph&nbsp&nbsp&nbsp</option> <option>PHASE</option> <option>CURRENT</option> <option>AMPLITUDE</option> <option>POWER</option> <option>PWM AMPLITUDE</option> <option>FREQUENCY</option> </select> </div>
		<div class="textLabelBigLeft" style="width: 70px; text-align: right"> X Value</div> <!-- end label //--> <input name="" class="textInput" id="XValue" style="width: 50px" /></div> <!-- end ieDropFix --> <div class="textLabelBigLeft" style="width: 70px; text-align: right"> Y Value</div> <!-- end label //--> <input name="" class="textInput" id="YValue" disabled="disabled" style="width: 50px" /><div class="textLabelBigLeft" style="width:40px; text-align: right"></div><br/><input name="UpdateValue" type="button" class="button" value="Update Value" onclick="DisplayGraphValue()" /></div><input type="hidden" id="tempid10" /><div> </div> <!-- end ieDropFix --> <div> </div> <div> </div> <div> </div> <!-- end content --> <div class="clearit"> 
	</div>
	</div> </div> 
	</div>
	<div id="footer" style="position:absolute; top:1260px"> <p> ©2011 Branson, All Rights Reserved<br /> <img src="Emerson-IA.jpg" alt="Emersin Industrial Automation" /></p> </div> <!-- end clearit --> <div> 
 </div> <!-- end wrapper -->
 <form name="temp_form" method="post" action="Test&WeldGraphs.html"> 
	 <input type="hidden" name="lang" id="lang" value="" />
	 <input type="hidden" name="userid1" id="userid1" value="" /> 
 </form> 
 <form name="temp_form_test" method="post" enctype="multipart/form-data" action="Test&WeldGraphs.html"> 
	 <input type="hidden" name="UserComment:," id="tempdata" value="" />
 </form>
 </body>
 </html>